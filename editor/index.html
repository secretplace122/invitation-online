<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä - invitation-online</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/editor.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&family=Dancing+Script:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="logo">
                <svg class="logo-svg" viewBox="0 0 24 24">
                    <path d="M20 12c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8 8 3.6 8 8z" />
                    <path d="M16 10l-4 4-4-4" />
                </svg>
                invitation-online
            </a>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="nav-links" id="navLinks">
                <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/editor/" class="active">–†–µ–¥–∞–∫—Ç–æ—Ä</a>
            </div>
        </div>
    </nav>

    <main class="editor-main">
        <div class="editor-mobile-tabs" id="mobileTabs">
            <button class="mobile-tab active" data-tab="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            <button class="mobile-tab" data-tab="preview">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</button>
        </div>

        <div class="editor-layout">
            <div class="editor-sidebar" id="editorSidebar">
                <div class="sidebar-header">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</h2>
                </div>

                <div class="sidebar-content" id="sidebarContent">
                    <div class="accordion">
                        <div class="accordion-item active">
                            <button class="accordion-header">
                                <span>üé® –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã</span>
                                <span class="material-symbols-outlined">expand_less</span>
                            </button>
                            <div class="accordion-content">
                                <div class="setting-group">
                                    <label>–ü–∞—Ç—Ç–µ—Ä–Ω</label>
                                    <div class="pattern-grid scrollable-grid" id="patternGrid"></div>
                                </div>
                                <div class="setting-group">
                                    <label>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å <span id="bgOpacityValue">0.2</span></label>
                                    <input type="range" id="bgOpacity" min="0" max="1" step="0.05" value="0.2">
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header">
                                <span>üñºÔ∏è –†–∞–º–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</span>
                                <span class="material-symbols-outlined">expand_more</span>
                            </button>
                            <div class="accordion-content">
                                <div class="setting-group">
                                    <label>–¶–≤–µ—Ç</label>
                                    <div class="color-presets" id="borderColorPresets">
                                        <div class="color-preset" style="background: #D4AF37;" data-color="#D4AF37"
                                            title="–ó–æ–ª–æ—Ç–æ"></div>
                                        <div class="color-preset" style="background: #C0C0C0;" data-color="#C0C0C0"
                                            title="–°–µ—Ä–µ–±—Ä–æ"></div>
                                        <div class="color-preset" style="background: #CD7F32;" data-color="#CD7F32"
                                            title="–ë—Ä–æ–Ω–∑–∞"></div>
                                        <div class="color-preset" style="background: #8B4513;" data-color="#8B4513"
                                            title="–î–µ—Ä–µ–≤–æ"></div>
                                        <div class="color-preset" style="background: #000000;" data-color="#000000"
                                            title="–ß–µ—Ä–Ω—ã–π"></div>
                                        <div class="color-preset" style="background: #FFFFFF; border: 1px solid #ddd;"
                                            data-color="#FFFFFF" title="–ë–µ–ª—ã–π"></div>
                                        <div class="color-preset" style="background: #FF1493;" data-color="#FF1493"
                                            title="–†–æ–∑–æ–≤—ã–π"></div>
                                        <div class="color-preset" style="background: #4169E1;" data-color="#4169E1"
                                            title="–°–∏–Ω–∏–π"></div>
                                        <div class="color-preset" style="background: #32CD32;" data-color="#32CD32"
                                            title="–ó–µ–ª–µ–Ω—ã–π"></div>
                                    </div>
                                    <input type="color" id="borderColor" value="#D4AF37" style="margin-top: 0.5rem;">
                                </div>
                                <div class="setting-group">
                                    <label>–¢–æ–ª—â–∏–Ω–∞ <span id="borderWidthValue">2</span>px</label>
                                    <input type="range" id="borderWidth" min="0" max="10" step="1" value="2">
                                </div>
                                <div class="setting-group">
                                    <label>–°–∫—Ä—É–≥–ª–µ–Ω–∏–µ <span id="borderRadiusValue">30</span>px</label>
                                    <input type="range" id="borderRadius" min="0" max="50" step="5" value="30">
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header">
                                <span>üé® –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ñ–æ–Ω</span>
                                <span class="material-symbols-outlined">expand_more</span>
                            </button>
                            <div class="accordion-content">
                                <div class="setting-group">
                                    <label>–¶–≤–µ—Ç</label>
                                    <div class="color-presets" id="containerBgColorPresets">
                                        <div class="color-preset" style="background: #FFFFFF; border: 1px solid #ddd;"
                                            data-color="#FFFFFF" title="–ë–µ–ª—ã–π"></div>
                                        <div class="color-preset" style="background: #FFF5E6;" data-color="#FFF5E6"
                                            title="–°–ª–æ–Ω–æ–≤–∞—è –∫–æ—Å—Ç—å"></div>
                                        <div class="color-preset" style="background: #F0F0F0;" data-color="#F0F0F0"
                                            title="–°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π"></div>
                                        <div class="color-preset" style="background: #FFF0F5;" data-color="#FFF0F5"
                                            title="–†–æ–∑–æ–≤—ã–π"></div>
                                        <div class="color-preset" style="background: #F0F8FF;" data-color="#F0F8FF"
                                            title="–ì–æ–ª—É–±–æ–π"></div>
                                        <div class="color-preset" style="background: #F5F5DC;" data-color="#F5F5DC"
                                            title="–ë–µ–∂–µ–≤—ã–π"></div>
                                        <div class="color-preset" style="background: #E6E6FA;" data-color="#E6E6FA"
                                            title="–õ–∞–≤–∞–Ω–¥–∞"></div>
                                        <div class="color-preset" style="background: #FAF0E6;" data-color="#FAF0E6"
                                            title="–õ–µ–Ω"></div>
                                    </div>
                                    <input type="color" id="containerBgColor" value="#FFFFFF"
                                        style="margin-top: 0.5rem;">
                                </div>
                                <div class="setting-group">
                                    <label>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å <span id="containerBgOpacityValue">0.95</span></label>
                                    <input type="range" id="containerBgOpacity" min="0" max="1" step="0.05"
                                        value="0.95">
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header">
                                <span>üìù –¢–µ–∫—Å—Ç</span>
                                <span class="material-symbols-outlined">expand_more</span>
                            </button>
                            <div class="accordion-content">
                                <div class="setting-group">
                                    <label>–¢–∏–ø –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</label>
                                    <input type="text" id="eventType" value="–°–≤–∞–¥–µ–±–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ">
                                </div>
                                <div class="setting-group">
                                    <label>–ò–º–µ–Ω–∞</label>
                                    <input type="text" id="names" value="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä & –ï–ª–µ–Ω–∞">
                                </div>
                                <div class="setting-group">
                                    <label>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ</label>
                                    <input type="text" id="greeting" value="–ø—Ä–∏–≥–ª–∞—à–∞—é—Ç –≤–∞—Å —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å –Ω–∏–º–∏ —Ä–∞–¥–æ—Å—Ç—å">
                                </div>
                                <div class="setting-group">
                                    <label>–î–∞—Ç–∞</label>
                                    <input type="text" id="dateText" value="15 –∏—é–Ω—è 2026">
                                </div>
                                <div class="setting-group">
                                    <label>–í—Ä–µ–º—è</label>
                                    <input type="text" id="timeText" value="–≤ 16:00">
                                </div>
                                <div class="setting-group">
                                    <label>–ú–µ—Å—Ç–æ</label>
                                    <input type="text" id="placeText" value="–ó–ê–ì–°, –≥. –ú–æ—Å–∫–≤–∞">
                                </div>
                                <div class="setting-group">
                                    <label>–î–æ–ø. —Ç–µ–∫—Å—Ç</label>
                                    <textarea id="messageText" rows="4" placeholder="–ü—Ä–æ–≥—Ä–∞–º–º–∞:
1. –°–±–æ—Ä –≥–æ—Å—Ç–µ–π - 15:00
2. –¶–µ—Ä–µ–º–æ–Ω–∏—è - 16:00
3. –§—É—Ä—à–µ—Ç - 17:00
4. –¢–∞–Ω—Ü—ã - 18:00"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header">
                                <span>‚úçÔ∏è –®—Ä–∏—Ñ—Ç—ã –∏ —Å—Ç–∏–ª–∏</span>
                                <span class="material-symbols-outlined">expand_more</span>
                            </button>
                            <div class="accordion-content">
                                <div class="setting-group">
                                    <label>–®—Ä–∏—Ñ—Ç –¥–ª—è –∏–º–µ–Ω</label>
                                    <select id="fontNames">
                                        <option value="'Great Vibes', cursive">Great Vibes</option>
                                        <option value="'Dancing Script', cursive">Dancing Script</option>
                                        <option value="'Playfair Display', serif">Playfair Display</option>
                                        <option value="'Inter', sans-serif">Inter</option>
                                    </select>
                                </div>
                                <div class="setting-group">
                                    <label>–†–∞–∑–º–µ—Ä <span id="namesSizeValue">48</span>px</label>
                                    <input type="range" id="namesSize" min="24" max="72" step="2" value="48">
                                </div>
                                <div class="setting-group">
                                    <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</label>
                                    <div class="color-presets" id="textColorPresets">
                                        <div class="color-preset" style="background: #475569;" data-color="#475569"
                                            title="–¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π"></div>
                                        <div class="color-preset" style="background: #000000;" data-color="#000000"
                                            title="–ß–µ—Ä–Ω—ã–π"></div>
                                        <div class="color-preset" style="background: #8B4513;" data-color="#8B4513"
                                            title="–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π"></div>
                                        <div class="color-preset" style="background: #B8860B;" data-color="#B8860B"
                                            title="–ó–æ–ª–æ—Ç–æ–π"></div>
                                        <div class="color-preset" style="background: #2E8B57;" data-color="#2E8B57"
                                            title="–ó–µ–ª–µ–Ω—ã–π"></div>
                                        <div class="color-preset" style="background: #8B0000;" data-color="#8B0000"
                                            title="–ë–æ—Ä–¥–æ–≤—ã–π"></div>
                                        <div class="color-preset" style="background: #483D8B;" data-color="#483D8B"
                                            title="–¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π"></div>
                                    </div>
                                    <input type="color" id="textColor" value="#475569" style="margin-top: 0.5rem;">
                                </div>
                                <div class="setting-group">
                                    <label>–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–Ω–∏–∏</label>
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <input type="checkbox" id="showDecorLines" checked>
                                        <span>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ª–∏–Ω–∏–∏-—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header">
                                <span>üìè –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è</span>
                                <span class="material-symbols-outlined">expand_more</span>
                            </button>
                            <div class="accordion-content">
                                <div class="setting-group">
                                    <label>–¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è (message)</label>
                                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="radio" name="messageAlign" id="messageAlignCenter"
                                                value="center" checked> –ü–æ —Ü–µ–Ω—Ç—Ä—É
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="radio" name="messageAlign" id="messageAlignLeft" value="left">
                                            –ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header">
                                <span>‚ú® –î–µ–∫–æ—Ä–∞—Ü–∏–∏</span>
                                <span class="material-symbols-outlined">expand_more</span>
                            </button>
                            <div class="accordion-content">
                                <div class="decor-grid scrollable-grid" id="decorGrid"></div>
                                <div
                                    style="margin-top: 1rem; padding: 0.5rem; background: #f8fafc; border-radius: 8px;">
                                    <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 0.5rem;">
                                        <span class="material-symbols-outlined"
                                            style="font-size: 1rem; vertical-align: middle;">info</span>
                                        –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –¥–µ–∫–æ—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ, –º–µ–Ω—è–π—Ç–µ —Ä–∞–∑–º–µ—Ä, –Ω–∞–∂–º–∏—Ç–µ
                                        Delete –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è.
                                    </p>
                                </div>
                                <div class="selected-decor-info" id="selectedDecorInfo"
                                    style="display: none; margin-top: 1rem; padding: 0.5rem; background: #e6f3ff; border-radius: 8px;">
                                    <p><strong>–í—ã–±—Ä–∞–Ω–æ:</strong> <span id="selectedDecorName"></span></p>
                                    <div class="setting-group">
                                        <label>–†–∞–∑–º–µ—Ä <span id="decorSizeValue">50</span>px</label>
                                        <input type="range" id="decorSize" min="30" max="500" step="5" value="50">
                                    </div>
                                    <button class="btn btn-secondary" id="deleteSelectedDecor"
                                        style="width: 100%; margin-top: 0.5rem;">
                                        <span class="material-symbols-outlined" style="font-size: 1rem;">delete</span>
                                        –£–¥–∞–ª–∏—Ç—å
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-footer">
                    <button class="btn btn-primary" id="saveInvitationBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <div class="slug-input">
                        <label>–°—Å—ã–ª–∫–∞: /invitation/#</label>
                        <input type="text" id="customSlug" placeholder="moya-svadba" pattern="[a-z0-9-]+">
                    </div>
                </div>
            </div>

            <div class="editor-preview" id="editorPreview">
                <div class="preview-header">
                    <h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                </div>
                <div class="preview-container" id="previewContainer">
                    <div class="preview-bg-layer" id="previewBgLayer"></div>
                    <div class="preview-content-layer">
                        <div class="invitation-card" id="previewCard">
                            <div class="card-header">
                                <div class="decor-line"></div>
                                <h2 class="event-type" id="previewEventType">–°–≤–∞–¥–µ–±–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</h2>
                                <div class="decor-line"></div>
                            </div>
                            <div class="card-body" id="previewCardBody">
                                <h1 class="names" id="previewNames">–ê–ª–µ–∫—Å–∞–Ω–¥—Ä & –ï–ª–µ–Ω–∞</h1>
                                <p class="greeting" id="previewGreeting">–ø—Ä–∏–≥–ª–∞—à–∞—é—Ç –≤–∞—Å —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å –Ω–∏–º–∏ —Ä–∞–¥–æ—Å—Ç—å</p>
                                <div class="details">
                                    <p class="date" id="previewDate">15 –∏—é–Ω—è 2026</p>
                                    <p class="time" id="previewTime">–≤ 16:00</p>
                                    <p class="place" id="previewPlace">–ó–ê–ì–°, –≥. –ú–æ—Å–∫–≤–∞</p>
                                </div>
                                <div class="message" id="previewMessage" style="white-space: pre-line;"></div>
                            </div>
                            <div class="card-footer">
                                <div class="decor-line"></div>
                            </div>
                            <div class="decor-layer" id="decorLayer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="../js/firebase-config.js"></script>
    <script src="../js/editor.js"></script>
</body>

</html>